# Claude Code Builder v3.0 Enhanced - Task Implementation Guide

## Overview

This document provides task templates and guidelines for implementing the enhanced Claude Code Builder. The actual tasks are dynamically generated by the AI planning phase, but they follow these enhanced patterns with memory integration, research capabilities, and production standards.

## Task Categories

### Memory Integration Tasks
Every task category must include memory operations:

1. **Pre-Task Memory Check**
   ```bash
   # Check mem0 for relevant patterns
   mem0__search-memories("specific technology pattern")
   # Apply found knowledge to implementation
   ```

2. **Task Execution with Logging**
   ```bash
   # Log rationale for tool usage
   log("TOOL", "Using X because Y, expecting Z outcome")
   # Execute with detailed parameter explanation
   ```

3. **Post-Task Knowledge Storage**
   ```bash
   # Store learnings for future projects
   mem0__add-memory("Pattern: Working implementation of X with Y benefits")
   ```

## Foundation Tasks

### Project Structure Setup
- **Memory Check**: Search for "project structure", "package layout", "build system"
- **Research**: Use context7 for framework-specific best practices
- **Implementation**: Create complete directory structure
- **Standards**: NO placeholder files - all files must be functional
- **Storage**: Store structure decisions and rationale in mem0

### Build System Configuration  
- **Memory Check**: Search for "build configuration", "dependency management"
- **Research**: Latest build tool documentation via context7
- **Implementation**: Complete build files (setup.py, requirements.txt, etc.)
- **Standards**: Production-ready configurations only
- **Storage**: Store successful build patterns in mem0

### Version Control Setup
- **Memory Check**: Search for "git setup", "gitignore patterns"
- **Research**: Best practices for specific project type
- **Implementation**: Initialize git with comprehensive .gitignore
- **Standards**: Complete version control from start
- **Storage**: Store effective .gitignore patterns in mem0

## Core Implementation Tasks

### Data Models and Types
- **Memory Check**: Search for "data modeling", "type systems", framework-specific patterns
- **Research**: Current best practices for chosen technology stack
- **Implementation**: Complete data models with validation
- **Standards**: Full functionality, proper error handling
- **Storage**: Store successful modeling patterns in mem0

### Business Logic Implementation
- **Memory Check**: Search for "business logic patterns", "architecture decisions"
- **Research**: Domain-specific best practices
- **Implementation**: Complete business logic with error handling
- **Standards**: Production-ready code with comprehensive logging
- **Storage**: Store architecture decisions and their outcomes

### API Development
- **Memory Check**: Search for "API patterns", "endpoint design", "authentication"
- **Research**: Latest API design patterns and security practices
- **Implementation**: Complete, functional API with real authentication
- **Standards**: Integration tests ONLY (no unit tests)
- **Storage**: Store API patterns and security implementations

## Integration Tasks

### Database Integration
- **Memory Check**: Search for "database patterns", "ORM usage", "migration strategies"
- **Research**: Latest database best practices via context7
- **Implementation**: Complete database setup with real connections
- **Standards**: Production database configurations, no mock databases
- **Storage**: Store working database patterns and optimization techniques

### External Service Integration
- **Memory Check**: Search for "service integration", "API client patterns"
- **Research**: Service-specific documentation and best practices
- **Implementation**: Real service integrations with proper error handling
- **Standards**: Actual API calls, no mocked services
- **Storage**: Store integration patterns and retry strategies

### Authentication and Security
- **Memory Check**: Search for "authentication patterns", "security implementations"
- **Research**: Current security best practices and standards
- **Implementation**: Complete authentication system with real token handling
- **Standards**: Production-grade security, no security shortcuts
- **Storage**: Store security patterns and implementation details

## Quality Assurance Tasks

### Testing Implementation (Integration/E2E Only)
- **Memory Check**: Search for "testing strategies", "integration patterns"
- **Research**: Testing framework documentation and best practices
- **Implementation**: Complete integration and E2E tests with real services
- **Standards**: NO unit tests - integration and E2E only
- **Storage**: Store effective testing patterns and strategies

### Error Handling Enhancement
- **Memory Check**: Search for "error handling patterns", "recovery strategies"
- **Research**: Error handling best practices for technology stack
- **Implementation**: Comprehensive error handling with retry logic
- **Standards**: Production-grade error recovery and logging
- **Storage**: Store error handling patterns and recovery strategies

### Performance Optimization
- **Memory Check**: Search for "performance patterns", "optimization techniques"
- **Research**: Performance best practices for specific technology
- **Implementation**: Real performance optimizations with metrics
- **Standards**: Actual performance improvements, no artificial optimizations
- **Storage**: Store performance optimization patterns and measurements

### Security Implementation
- **Memory Check**: Search for "security patterns", "vulnerability prevention"
- **Research**: Latest security standards and practices
- **Implementation**: Complete security measures with real validation
- **Standards**: Production security standards, no shortcuts
- **Storage**: Store security implementations and validation techniques

## Task Execution Template

### Enhanced Task Structure
Each dynamically generated task follows this pattern:

```json
{
    "id": "task_001",
    "name": "Setup Project Foundation with Memory Integration",
    "description": "Create complete project structure using mem0 patterns",
    "memory_check": [
        "project structure best practices",
        "dependency management patterns",
        "build system configurations"
    ],
    "research_topics": [
        "Python packaging best practices",
        "Modern build tools",
        "Project layout standards"
    ],
    "implementation_steps": [
        "Search mem0 for relevant project structure patterns",
        "Research latest packaging standards via context7",
        "Create complete directory structure",
        "Generate functional build files",
        "Initialize version control with comprehensive .gitignore",
        "Store successful patterns in mem0"
    ],
    "tool_usage": [
        {
            "tool": "mem0__search-memories",
            "rationale": "Find proven project structure patterns from previous builds",
            "expected": "Retrieve working directory layouts and build configurations"
        },
        {
            "tool": "context7__get-library-docs", 
            "rationale": "Get current best practices for chosen build system",
            "expected": "Latest documentation and recommended patterns"
        },
        {
            "tool": "filesystem__create_directory",
            "rationale": "Create project structure based on research findings",
            "expected": "Complete directory tree ready for development"
        },
        {
            "tool": "mem0__add-memory",
            "rationale": "Store successful structure for future projects",
            "expected": "Knowledge preserved for cross-project learning"
        }
    ],
    "validation_criteria": [
        "All directories created and functional",
        "Build files complete and valid",
        "Git repository initialized properly", 
        "No placeholder or dummy files",
        "Patterns stored in mem0 successfully"
    ],
    "git_commit": {
        "message": "feat: Initialize project foundation with memory integration",
        "details": "Created complete project structure based on mem0 patterns and context7 research"
    }
}
```

### Production Standards Checklist

Every task implementation must verify:

- ✅ **Memory Integration**: Checked mem0 before implementation
- ✅ **Research Completion**: Used context7 for documentation lookup
- ✅ **No Mocks**: All implementations are real and functional
- ✅ **No Unit Tests**: Only integration and E2E tests created
- ✅ **Complete Implementation**: No placeholders, TODOs, or dummy code
- ✅ **Error Handling**: Comprehensive error handling with retry logic
- ✅ **Environment Variables**: All configuration via environment variables
- ✅ **Security Standards**: Input validation, proper authentication
- ✅ **Logging**: Production-grade logging to stdout/stderr
- ✅ **Cloud Ready**: Health checks and graceful shutdown support
- ✅ **Knowledge Storage**: Learnings stored in mem0 for future use

### Tool Usage Logging Pattern

```bash
# Before tool use
log("TOOL", "About to use ${TOOL_NAME}")
log("TOOL", "Rationale: ${WHY_USING_TOOL}")
log("TOOL", "Expected outcome: ${EXPECTED_RESULT}")

# During tool use
display_tool_parameters ${TOOL_NAME} ${PARAMETERS}

# After tool use  
log("TOOL", "Result: ${ACTUAL_OUTCOME}")
log("TOOL", "Learning: ${WHAT_WAS_LEARNED}")

# Store in memory
log("MEMORY", "Storing pattern for future use: ${PATTERN_DESCRIPTION}")
```

### Research Workflow Pattern

```bash
# 1. Check existing knowledge
mem0__search-memories("${RESEARCH_TOPIC}")

# 2. Get official documentation  
context7__resolve-library-id("${LIBRARY_NAME}")
context7__get-library-docs("${LIBRARY_ID}")

# 3. Web search only if needed
# (Only when mem0 and context7 don't have sufficient information)

# 4. Store all findings
mem0__add-memory("${RESEARCH_TOPIC}: ${FINDINGS_SUMMARY}")
```

This task framework ensures every implementation is informed by memory, researched thoroughly, implemented completely, and contributes to the growing knowledge base for future projects.